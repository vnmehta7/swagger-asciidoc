swagger: '2.0'
info:
  description: This Service provides all Push provisioning API.
  version: 1.0.0
  title: Push Provisioning API
  # put the contact info for your development or API team
  contact:
    email: you@your-company.com

  license:
    name: Apache 2.0
    url: http://www.apache.org/licenses/LICENSE-2.0.html

# tags are used for organizing operations
tags:
  - name: admins
    description: Secured Admin-only calls
  - name: developers
    description: Operations available to regular developers

paths:
  /getDigitizationParameters:
    get:
      tags:
        - developers
      summary: To retrieve all digitization paramters
      operationId: getDigitizationParameters
      description: |
        This API is used to retrieve all digitization Parmeters
        bound to the provided sessionid.
      produces:
        - application/json
      parameters:
        - in: query
          name: sessionId
          description: sessionId generated by backend system and provided to Issuer APP while onboarding the parmeters.
          required: true
          type: string
      responses:
        200:
          description: search results matching criteria
          schema:
            type: array
            items:
              $ref: '#/definitions/DigitizationParam'
        400:
          description: bad input parameter
        404:
          description: sessionId is not found in the server
  /createDynamicLink:
    post:
      tags:
        - developers
      summary: API to create dynamic link
      operationId: createDynamicLink
      description: This API creates dynamic link based on query parameters provided, backend system binds this dynamic link to unique session id to retreive the associated paramteres. This API in turn calls shortLink API from firebase. Please refer https://firebase.google.com/docs/dynamic-links/rest?authuser=0 this page for more details
      produces:
        - text/plain; charset=utf-8
      responses:
        201:
          description: Dynamic link created
          schema:
            type: string
            example : https://example.page.link/WXYZ
definitions:
  DigitizationParam:
    type: object
    required:
      - key
      - value
    properties:
      id:
        type: string
        format: string
        example: vcUID
      value:
        type: string
        example: Sample123
      # Added by API Auto Mocking Plugin
basePath: /pushProvision/1.0.0
schemes:
  - https
  - http